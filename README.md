# AstrBot 抽取大皮插件 (astrbot_plugin_chouqudapi)

一个为 AstrBot 设计的趣味插件，支持随机抽取“大皮”称号并自动修改群名片。针对 NapCat/QQBot (aiocqhttp) 环境进行了深度优化，确保 API 调用稳定。

## ✨ 功能特性

- 🎲 **随机抽取**：从预设的大皮池中随机抽取称号。
- 🏷️ **自动改名**：抽取后自动修改用户的群名片为 `黄大皮[称号]分皮`。
- 🛡️ **隐私保护**：群列表查询时完全隐藏 QQ 号码，仅展示昵称。
- 🧠 **智能添加**：`/添加大皮` 指令支持智能截取，输入 `黄大皮人类淮海分皮` 会自动简化为 `淮海` 存入池中。
- 📦 **开箱即用**：内置 20 个默认大皮称号（如：万法之源、世界之脊、中心城等）。
- 💾 **持久化存储**：记录用户的抽取历史和最后一次使用的昵称。

## 🚀 安装方法

在 AstrBot 管理面板的插件页面，通过 GitHub 仓库地址安装：

```text
https://github.com/olinll/astrbot_plugin_chouqudapi
```

或者将项目克隆到 `plugins` 目录下。

## 🛠️ 使用指令

| 指令 | 说明 | 示例 |
| :--- | :--- | :--- |
| `/抽取大皮` | 随机抽取一个大皮称号并修改名片 | `/抽取大皮` |
| `/群查看大皮` | 查看本群所有大皮成员（保护隐私） | `/群查看大皮` |
| `/查看大皮` | 查看个人的历史抽取记录 | `/查看大皮` |
| `/查看大皮组` | 查看当前池子中所有的称号 | `/查看大皮组` |
| `/添加大皮` | 向池子中添加新的称号（支持智能截取） | `/添加大皮 某某` |

## 📁 存储说明

插件数据保存在插件目录下的 `data/chouqudapi.json` 中，包含：
- `dapi_pool`: 称号池列表
- `extractions`: 各群组的抽取历史及用户昵称缓存

## 📄 开源协议

本项目采用 [MIT License](LICENSE) 开源。
